
## インフラの主な形態
### 種類について
主に2つに分けられる。
一つはクラウドで、もう一つはオンプレミスというもの。

### クラウドとは
クラウドサービスプラットフォームからインターネット経由でコンピューティング、データベース、ストレージ、アプリケーションをはじめとした、さまざまな IT リソースをオンデマンドで利用することができるサービスの総称で、必要なときに必要な量のリソース(メモリとか)へ簡単にアクセスできるようになっている。
主に三種類あり、`heroku` をはじめとした `PaaS` や、他には `IaaS` (Infrastructure as a Service)や `SaaS` (Software as a Service)などがある。

### オンプレミスとは？
クラウドとは対極の概念。
ITシステムを構築する際に、サーバーやネットワーク機器を購入(リース契約など)して、自社の建物内に設置・運用していくスタイルのこと

### クラウドのメリット
- オンプレミスだとリソースの割り振りが固定だが、クラウドであれば柔軟に拡張・縮小が可能な点
- インフラの調達にオンプレミスだと時間がかかるが、クラウドだとアカウント登録後すぐに利用可能な点
- 障害対応を行うのはクラウドサービスを提供している業者になるので、コストを抑えられる点

### クラウドのデメリット
- 自前ではないので、クラウドサービスごとに若干の制約がある
- 同一のネットワーク内で試行錯誤はできない

## AWSについて
### AWSとは
クラウドサービスの筆頭と言えるサービス。
サーバは `EC2` 、ネットワークは `VPC` といったサービスで構築することが可能。
`AWS`は `Amazon Web Server` の略ではなく、 `Amazon Web Service` の略

### EC2とは
仮想マシン(仮想サーバ、インスタンスとも呼ばれる)を用意するためのサービス。
用途によって最適化されたインスタンスタイプが用意されている。
例えば、計算に特化したC系や汎用タイプのM系がある。
`EC2` は`ECC` (Elastic Computer Cotrol)の略。

### VPCとは
AWS専用の仮想ネットワークのこと。
ルータやゲートウェイなどのネットワーク機器を仮想的に用意しネットワーク環境を構築できるサービス。
`Virtual Private Cloud` の略

### リージョンとは
地域に紐づくデータセンターのこと。
AWSにはリージョンと呼ばれるAWSの拠点があり、EC2とVPCを利用するときにはリージョンを選ぶ必要がある。
距離が離れているほど通信に時間がかかるため、サービスを提供する地域に合わせてリージョンを決定する。
選ぶリージョンによって利用料金は変わる。

### AZ(Availability Zone)とは
リージョン内にある物理的に離れた個々のデータセンターのこと。
1つのリージョンに複数のそれぞれ独立したデータセンターがあり、このデータセンターを `アベイラビリティーゾーン` という。
またAZのことをロケーションとも呼ぶ。

## VPC
### 基本的な構成
VPCには様々なコンポーネントが含まれていて、それらを組み合わせることで、自由にネットワーク環境を構築できる。 


<img src="https://i1.wp.com/avinton.com/wp-content/uploads/2018/02/aws-components.png?resize=514%2C274&ssl=1" width="100%">  


- `IGW(Internet GateWay)`
  VPCをインターネットに接続できるようにするコンポーネント  
- `Subnet`  
  VPCという大きなネットワークの中に小さいネットワーク(サブネット)の集まりを作ることができるコンポーネント  
- `Route table `
  ネットワークの経路を設定するコンポーネント。サブネット内の通信がどの宛先のネットワークに対して、どのコンポーネント（IGWとかEC2とか）に転送されて欲しいかを設定する  
- `Elastic IP`  
  EC2のインスタンスに対して固定IPを割り当てるコンポーネント  
- `NGW(NAT GateWay)`  
  `NAT(Network Address Translation)` とはプライベートIPをグローバルIPに変換するもので、この変換を行うためのコンポーネント  

## 実際に構築する際のイメージ
- [Avinton Japan](https://avinton.com/academy/aws/)
- [Managed Cloud with AWS](https://www.bit-drive.ne.jp/managed-cloud/column/column_07.html)

